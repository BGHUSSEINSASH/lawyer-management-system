<!-- ==================== Ù‚Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†ÙˆÙ† ÙˆØ§Ù„Ø¯Ø§Ø¦Ù†ÙˆÙ† ==================== -->
<section id="debtor" class="section" style="display:none">
    <div style="background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);color:white;padding:30px;border-radius:16px;margin-bottom:30px;box-shadow:0 10px 30px rgba(102,126,234,0.3)">
        <h2 style="margin:0;font-size:2.2em;font-weight:900">ğŸ’³ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯Ø§Ø¦Ù† ÙˆØ§Ù„Ù…Ø¯ÙŠÙ†</h2>
        <p style="margin:10px 0 0 0;opacity:0.95">Ø¥Ø¯Ø§Ø±Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¯ÙŠÙˆÙ† ÙˆØ§Ù„Ø¯Ø§Ø¦Ù†ÙŠÙ†</p>
    </div>

    <!-- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px">
        <div style="background:white;padding:20px;border-radius:12px;border-right:5px solid #e74c3c;box-shadow:0 4px 15px rgba(0,0,0,0.08)">
            <div style="font-size:0.9em;color:#7f8c8d;margin-bottom:8px">ğŸ’° Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¯ÙŠÙˆÙ† Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø©</div>
            <div style="font-size:2.2em;font-weight:900;color:#2c3e50" id="totalReceivables">0</div>
        </div>
        <div style="background:white;padding:20px;border-radius:12px;border-right:5px solid #27ae60;box-shadow:0 4px 15px rgba(0,0,0,0.08)">
            <div style="font-size:0.9em;color:#7f8c8d;margin-bottom:8px">ğŸ“‹ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¯ÙŠÙˆÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±ÙƒØ©</div>
            <div style="font-size:2.2em;font-weight:900;color:#2c3e50" id="totalPayables">0</div>
        </div>
        <div style="background:white;padding:20px;border-radius:12px;border-right:5px solid #3498db;box-shadow:0 4px 15px rgba(0,0,0,0.08)">
            <div style="font-size:0.9em;color:#7f8c8d;margin-bottom:8px">âš–ï¸ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„ØµØ§ÙÙŠ</div>
            <div style="font-size:2.2em;font-weight:900;color:#2c3e50" id="netPosition">0</div>
        </div>
        <div style="background:white;padding:20px;border-radius:12px;border-right:5px solid #f39c12;box-shadow:0 4px 15px rgba(0,0,0,0.08)">
            <div style="font-size:0.9em;color:#7f8c8d;margin-bottom:8px">ğŸš¨ Ø§Ù„Ø¯ÙŠÙˆÙ† Ø§Ù„Ù…ØªØ£Ø®Ø±Ø©</div>
            <div style="font-size:2.2em;font-weight:900;color:#e74c3c" id="overdueAmount">0</div>
        </div>
    </div>

    <!-- Ø§Ù„Ø£Ù„Ø³Ù†Ø© (Tabs) -->
    <div style="margin-bottom:25px;border-bottom:2px solid #ecf0f1">
        <button class="tab-button active" onclick="switchDebtTab('overview')" style="padding:15px 25px;border:none;background:transparent;color:#2c3e50;font-weight:600;cursor:pointer;border-bottom:3px solid #667eea;font-size:1em">ğŸ“Š Ø§Ù„Ù†Ø¸Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø©</button>
        <button class="tab-button" onclick="switchDebtTab('create')" style="padding:15px 25px;border:none;background:transparent;color:#7f8c8d;font-weight:600;cursor:pointer;border-bottom:3px solid transparent;font-size:1em;transition:all 0.3s">â• Ø¥Ø¶Ø§ÙØ© Ø¯ÙŠÙ†</button>
        <button class="tab-button" onclick="switchDebtTab('list')" style="padding:15px 25px;border:none;background:transparent;color:#7f8c8d;font-weight:600;cursor:pointer;border-bottom:3px solid transparent;font-size:1em;transition:all 0.3s">ğŸ“‹ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¯ÙŠÙˆÙ†</button>
        <button class="tab-button" onclick="switchDebtTab('analytics')" style="padding:15px 25px;border:none;background:transparent;color:#7f8c8d;font-weight:600;cursor:pointer;border-bottom:3px solid transparent;font-size:1em;transition:all 0.3s">ğŸ“ˆ Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª</button>
    </div>

    <!-- Ø§Ù„Ù†Ø¸Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© (Overview) -->
    <div id="debtOverview" class="debt-section">
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:25px;margin-bottom:30px">
            <!-- Ù†ÙˆØ¹ Ø§Ù„Ø¯ÙŠÙˆÙ† -->
            <div style="background:white;padding:25px;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,0.08)">
                <h3 style="margin:0 0 20px 0;color:#2c3e50;font-size:1.3em">ğŸ“Š ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¯ÙŠÙˆÙ† Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹</h3>
                <div id="debtTypeChart"></div>
            </div>
            <!-- Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø¯ÙŠÙˆÙ† -->
            <div style="background:white;padding:25px;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,0.08)">
                <h3 style="margin:0 0 20px 0;color:#2c3e50;font-size:1.3em">â±ï¸ ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¯ÙŠÙˆÙ† Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ù„Ø©</h3>
                <div id="debtStatusChart"></div>
            </div>
        </div>

        <!-- Ø§Ù„Ø¯ÙŠÙˆÙ† Ø§Ù„Ù…ØªØ£Ø®Ø±Ø© -->
        <div style="background:white;padding:25px;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,0.08);margin-bottom:25px">
            <h3 style="margin:0 0 20px 0;color:#e74c3c;font-size:1.3em">ğŸš¨ Ø§Ù„Ø¯ÙŠÙˆÙ† Ø§Ù„Ù…ØªØ£Ø®Ø±Ø©</h3>
            <div id="overdueDebtsList"></div>
        </div>

        <!-- ØªØ­Ù„ÙŠÙ„ Ø¹Ù…Ø± Ø§Ù„Ø¯ÙŠÙˆÙ† -->
        <div style="background:white;padding:25px;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,0.08)">
            <h3 style="margin:0 0 20px 0;color:#2c3e50;font-size:1.3em">ğŸ“… ØªØ­Ù„ÙŠÙ„ Ø¹Ù…Ø± Ø§Ù„Ø¯ÙŠÙˆÙ†</h3>
            <div id="debtAgeAnalysisChart"></div>
        </div>
    </div>

    <!-- Ø¥Ø¶Ø§ÙØ© Ø¯ÙŠÙ† Ø¬Ø¯ÙŠØ¯ (Create) -->
    <div id="debtCreate" class="debt-section" style="display:none">
        <div style="background:white;padding:30px;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,0.08)">
            <h3 style="margin:0 0 25px 0;color:#2c3e50;font-size:1.5em">â• Ø¥Ø¶Ø§ÙØ© Ø¯ÙŠÙ† Ø¬Ø¯ÙŠØ¯</h3>
            
            <form id="createDebtForm" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px">
                <!-- Ø§Ù„Ù†ÙˆØ¹ -->
                <div class="form-group">
                    <label style="font-weight:600;color:#2c3e50;margin-bottom:8px;display:block">Ù†ÙˆØ¹ Ø§Ù„Ø¯ÙŠÙ†</label>
                    <select id="debtType" required style="width:100%;padding:12px;border-radius:10px;border:2px solid #ecf0f1;font-size:1em">
                        <option value="">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø¯ÙŠÙ†</option>
                        <option value="ClientDebt">ğŸ’° Ø¯ÙŠÙˆÙ† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</option>
                        <option value="VendorPayable">ğŸ“¦ Ø¯ÙŠÙˆÙ† Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†</option>
                        <option value="EmployeeSalary">ğŸ‘” Ø±ÙˆØ§ØªØ¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</option>
                        <option value="LoanPayable">ğŸ¦ Ù‚Ø±ÙˆØ¶ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±ÙƒØ©</option>
                        <option value="LoanReceivable">ğŸ’³ Ù‚Ø±ÙˆØ¶ Ù…Ø¹Ø·Ø§Ø©</option>
                        <option value="Other">â“ Ø£Ø®Ø±Ù‰</option>
                    </select>
                </div>

                <!-- Ø§Ù„Ø§Ø³Ù… -->
                <div class="form-group">
                    <label style="font-weight:600;color:#2c3e50;margin-bottom:8px;display:block">Ø§Ø³Ù… Ø§Ù„Ø¯ÙŠÙ†</label>
                    <input type="text" id="debtName" required placeholder="Ù…Ø«Ø§Ù„: Ø¯ÙŠÙ† Ø¹Ù„ÙŠ Ù…Ø­Ù…Ø¯" style="width:100%;padding:12px;border-radius:10px;border:2px solid #ecf0f1;font-size:1em">
                </div>

                <!-- Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„ÙƒÙ„ÙŠ -->
                <div class="form-group">
                    <label style="font-weight:600;color:#2c3e50;margin-bottom:8px;display:block">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„ÙƒÙ„ÙŠ</label>
                    <input type="number" id="debtAmount" required min="0" step="1" placeholder="0" style="width:100%;padding:12px;border-radius:10px;border:2px solid #ecf0f1;font-size:1em">
                </div>

                <!-- Ø§Ù„Ù…ÙˆÙƒÙ„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) -->
                <div class="form-group">
                    <label style="font-weight:600;color:#2c3e50;margin-bottom:8px;display:block">Ø§Ù„Ù…ÙˆÙƒÙ„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                    <select id="debtClient" style="width:100%;padding:12px;border-radius:10px;border:2px solid #ecf0f1;font-size:1em">
                        <option value="">Ù„Ø§ ÙŠÙˆØ¬Ø¯</option>
                    </select>
                </div>

                <!-- ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚ -->
                <div class="form-group">
                    <label style="font-weight:600;color:#2c3e50;margin-bottom:8px;display:block">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚</label>
                    <input type="date" id="debtDueDate" style="width:100%;padding:12px;border-radius:10px;border:2px solid #ecf0f1;font-size:1em">
                </div>

                <!-- Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª -->
                <div class="form-group" style="grid-column:1 / -1">
                    <label style="font-weight:600;color:#2c3e50;margin-bottom:8px;display:block">Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
                    <textarea id="debtNotes" placeholder="Ø£Ø¶Ù Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©..." style="width:100%;padding:12px;border-radius:10px;border:2px solid #ecf0f1;font-size:1em;min-height:100px;resize:vertical"></textarea>
                </div>

                <!-- Ø§Ù„Ø£Ø²Ø±Ø§Ø± -->
                <div style="grid-column:1 / -1;display:flex;gap:15px;margin-top:10px">
                    <button type="submit" class="btn-primary" style="flex:1;padding:14px;background:linear-gradient(135deg,#667eea,#764ba2);border:none;border-radius:10px;color:white;font-weight:700;cursor:pointer;font-size:1.05em">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¯ÙŠÙ†</button>
                    <button type="reset" class="btn-secondary" style="flex:1;padding:14px;background:#ecf0f1;border:none;border-radius:10px;color:#2c3e50;font-weight:700;cursor:pointer;font-size:1.05em">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¯ÙŠÙˆÙ† (List) -->
    <div id="debtList" class="debt-section" style="display:none">
        <div style="background:white;padding:25px;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,0.08)">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:25px">
                <h3 style="margin:0;color:#2c3e50;font-size:1.5em">ğŸ“‹ Ù‚Ø§Ø¦Ù…Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¯ÙŠÙˆÙ†</h3>
                <div style="display:flex;gap:10px">
                    <select id="debtFilterType" style="padding:10px;border-radius:8px;border:2px solid #ecf0f1" onchange="filterDebts()">
                        <option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹</option>
                        <option value="ClientDebt">Ø¯ÙŠÙˆÙ† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</option>
                        <option value="VendorPayable">Ø¯ÙŠÙˆÙ† Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†</option>
                        <option value="EmployeeSalary">Ø±ÙˆØ§ØªØ¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</option>
                        <option value="LoanPayable">Ø§Ù„Ù‚Ø±ÙˆØ¶</option>
                    </select>
                    <select id="debtFilterStatus" style="padding:10px;border-radius:8px;border:2px solid #ecf0f1" onchange="filterDebts()">
                        <option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª</option>
                        <option value="Active">Ù†Ø´Ø·Ø©</option>
                        <option value="Overdue">Ù…ØªØ£Ø®Ø±Ø©</option>
                        <option value="PartiallyPaid">Ù…Ø³Ø¯Ø¯Ø© Ø¬Ø²Ø¦ÙŠØ§Ù‹</option>
                        <option value="Paid">Ù…Ø³Ø¯Ø¯Ø©</option>
                    </select>
                    <input type="text" id="debtSearchBox" placeholder="ğŸ” Ø¨Ø­Ø«..." style="padding:10px;border-radius:8px;border:2px solid #ecf0f1;width:200px" onkeyup="filterDebts()">
                </div>
            </div>
            <div id="debtTableContainer"></div>
        </div>
    </div>

    <!-- Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª (Analytics) -->
    <div id="debtAnalytics" class="debt-section" style="display:none">
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:25px;margin-bottom:30px">
            <!-- Ù†Ø³Ø¨Ø© Ø§Ù„ØªØ­ØµÙŠÙ„ -->
            <div style="background:white;padding:25px;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,0.08)">
                <h3 style="margin:0 0 20px 0;color:#2c3e50;font-size:1.3em">ğŸ“Š Ù†Ø³Ø¨Ø© Ø§Ù„ØªØ­ØµÙŠÙ„</h3>
                <div id="collectionRateChart"></div>
            </div>
            <!-- Ø§Ù„Ø¯ÙŠÙˆÙ† Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹ -->
            <div style="background:white;padding:25px;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,0.08)">
                <h3 style="margin:0 0 20px 0;color:#2c3e50;font-size:1.3em">ğŸ“ˆ ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹</h3>
                <div id="debtBreakdownChart"></div>
            </div>
        </div>

        <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª -->
        <div style="background:white;padding:25px;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,0.08)">
            <h3 style="margin:0 0 20px 0;color:#2c3e50;font-size:1.3em">ğŸ“‹ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ­Ù„ÙŠÙ„ÙŠØ©</h3>
            <div style="overflow-x:auto">
                <table style="width:100%;border-collapse:collapse">
                    <thead>
                        <tr style="background:#f8f9fa;border-bottom:2px solid #ecf0f1">
                            <th style="padding:15px;text-align:right;font-weight:600;color:#2c3e50">Ø§Ù„Ù…Ù‚ÙŠØ§Ø³</th>
                            <th style="padding:15px;text-align:right;font-weight:600;color:#2c3e50">Ø§Ù„Ù‚ÙŠÙ…Ø©</th>
                        </tr>
                    </thead>
                    <tbody id="analyticsTableBody">
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>

<!-- ==================== Ù†Ù…Ø· CSS Ù…Ø®ØµØµ Ù„Ù„Ø¯ÙŠÙˆÙ† ==================== -->
<style>
.debt-section {
    animation: fadeIn 0.3s ease-in;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.debt-item {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 10px;
    border-right: 4px solid #667eea;
    margin-bottom: 15px;
    transition: all 0.3s ease;
}

.debt-item:hover {
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.2);
    transform: translateY(-2px);
}

.debt-item-header {
    display: flex;
    justify-content: space-between;
    align-items: start;
    margin-bottom: 12px;
}

.debt-item-title {
    font-weight: 700;
    color: #2c3e50;
    font-size: 1.1em;
}

.debt-item-badge {
    display: inline-block;
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 0.85em;
    font-weight: 600;
}

.debt-item-details {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 12px;
    font-size: 0.95em;
}

.debt-item-detail {
    display: flex;
    justify-content: space-between;
}

.debt-item-detail-label {
    color: #7f8c8d;
}

.debt-item-detail-value {
    font-weight: 600;
    color: #2c3e50;
}

.debt-progress-bar {
    background: #ecf0f1;
    height: 8px;
    border-radius: 4px;
    overflow: hidden;
    margin: 10px 0;
}

.debt-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #667eea, #764ba2);
    transition: width 0.3s ease;
}

.debt-actions {
    display: flex;
    gap: 10px;
    margin-top: 12px;
}

.debt-action-btn {
    padding: 8px 16px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s ease;
    font-size: 0.9em;
}

.debt-action-btn.edit {
    background: #3498db;
    color: white;
}

.debt-action-btn.edit:hover {
    background: #2980b9;
}

.debt-action-btn.pay {
    background: #27ae60;
    color: white;
}

.debt-action-btn.pay:hover {
    background: #229954;
}

.debt-action-btn.delete {
    background: #e74c3c;
    color: white;
}

.debt-action-btn.delete:hover {
    background: #c0392b;
}
</style>
